<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tizen-Compatible YouTube & Splash Video</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: black;
        }
        #video-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        iframe {
            width: 100%;
            height: 100%;
            position: absolute;
            z-index: 1;
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
        }
        video {
            width: 100%;
            height: 100%;
            position: absolute;
            z-index: 2;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            background-color: black;
            display: none; /* Initially hidden */
        }
        .visible {
            display: block; /* Show when needed */
        }
    </style>
</head>
<body>

<div id="video-container">
    <iframe 
        id="youtube-video" 
        src="https://www.youtube.com/embed/PyFN_FYwqvc?autoplay=1&mute=1&loop=1&playlist=PyFN_FYwqvc" 
        frameborder="0" 
        allow="autoplay">
    </iframe>
    <video id="splash-video" src="https://raw.githubusercontent.com/danyapopov/gtx_video/main/splash.mp4" muted></video>
</div>

<script>
    function playSplashVideo() {
        let splashVideo = document.getElementById("splash-video");
        let youtubeVideo = document.getElementById("youtube-video");

        // Use display instead of opacity to avoid playback interruption
        youtubeVideo.style.opacity = "0"; // Fade out YouTube
        splashVideo.classList.add("visible"); // Show splash video
        splashVideo.style.opacity = "1"; // Fade in splash
        splashVideo.play().catch(err => {
            console.log("Splash video failed to play:", err);
            resetToYouTube(); // Fallback if splash fails
        });

        splashVideo.onended = function() {
            splashVideo.style.opacity = "0"; // Fade out splash
            youtubeVideo.style.opacity = "1"; // Fade in YouTube
            setTimeout(() => {
                splashVideo.classList.remove("visible"); // Fully hide splash
                setTimeout(playSplashVideo, 15000); // Restart cycle
            }, 500); // Match transition duration
        };
    }

    function resetToYouTube() {
        let splashVideo = document.getElementById("splash-video");
        let youtubeVideo = document.getElementById("youtube-video");
        splashVideo.style.opacity = "0";
        splashVideo.classList.remove("visible");
        youtubeVideo.style.opacity = "1";
    }

    // Start the cycle after 15 seconds
    setTimeout(playSplashVideo, 15000);
</script>

</body>
</html>
